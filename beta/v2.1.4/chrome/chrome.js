define(["jquery","windows/windows","moment","common/util"],function(a,b,c){var d=null;return setTimeout(function(){var e=function(){var a=local_storage.get("chrome"),b=!a;if(!b){var d=a.accepted_or_cancel_time;if(b=!d,!b){var e=c.utc().valueOf()-d;b=e>=6048e5}}return b},f=e();if(f&&chrome&&chrome.webstore&&a("#webtrader-extension-is-installed").length<=0)if(d)d.moveToTop();else{d=b.createBlankWindow(a('<div class="chrome_extension"/>'),{title:"Chrome Extension",width:350,height:200,resizable:!1,collapsable:!1,minimizable:!1,maximizable:!1,modal:!0,ignoreTileAction:!0,"data-authorized":"true",buttons:{Apply:function(){a(this).dialog("close"),chrome.webstore.install(),local_storage.set("chrome",{accepted_or_cancel_time:c.utc().valueOf()})},Cancel:function(){a(this).dialog("close"),local_storage.set("chrome",{accepted_or_cancel_time:c.utc().valueOf()})}}});var g=a("<p>Do you want to install Webtrader chrome extension?</p>");g.appendTo(d),a("body").append(d.dialog("widget")),d.dialog("open")}},1e3),b.event_on("tile",function(){d&&d.dialog("isOpen")&&(d.dialog("close"),d.moveToTop())}),{}});
{"version":3,"sources":["../../../../src/themes/themes.es6"],"names":["win","themeName","local_storage","get","custom_theme","name","require","Highcharts","setOptions","plotOptions","candlestick","lineColor","color","upColor","upLineColor","off","on","$ele","elementText","text","attr","confirmationDialog","themeObj","moveToTop","$html","i18n","windows","createBlankWindow","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","find","$","growl","notice","message","remove","set","location","reload","dialog"],"mappings":";;;;;;;;;;;;;;;;;;AASA,OAAIA,MAAM,IAAV;;AAEA;AAXA;;;AAYA,OAAIC,YAAYC,cAAcC,GAAd,CAAkB,OAAlB,CAAhB;AACA,OAAMC,eAAeF,cAAcC,GAAd,CAAkB,cAAlB,CAArB;AACAF,eAAYA,aAAaA,UAAUI,IAAnC;AACA,OAAIJ,SAAJ,EAAe;AACZK,cAAQ,CAAC,kCAAkCL,SAAnC,CAAR;AACF,IAFD,MAGK,IAAGG,YAAH,EAAiB;AACnBG,iBAAWC,UAAX,CAAsBJ,YAAtB;AACF,IAFI,MAGA;AAAE;AACJG,iBAAWC,UAAX,CAAsB;AACnBC,sBAAa;AACVC,yBAAa;AACVC,0BAAW,eADD;AAEVC,sBAAO,mBAFG;AAGVC,wBAAS,kBAHC;AAIVC,4BAAa;AAJH;AADH;AADM,OAAtB;AAUF;;AAED,yBAAE,4FACC,0EADH,EAEIC,GAFJ,CAEQ,OAFR,EAGIC,EAHJ,CAGO,OAHP,EAGgB,YAAY;AACtB,UAAMC,OAAO,sBAAE,IAAF,CAAb;AACA,UAAMC,cAAcD,KAAKE,IAAL,EAApB;AACA,UAAMlB,YAAYgB,KAAKG,IAAL,CAAU,YAAV,CAAlB;AACAC,yBAAmB,IAAnB,EAAyBpB,SAAzB,EAAoCiB,WAApC;AACF,IARJ;;AAUO,OAAMG,kDAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWrB,SAAX,EAAsBiB,WAAtB,EAAsC;AACrE,UAAGlB,GAAH,EAAQ;AACLA,aAAIuB,SAAJ;AACA;AACF;AACDjB,cAAQ,CAAC,yBAAD,CAAR,EAAqC,UAACkB,KAAD,EAAW;AAC7CA,iBAAQ,sBAAEA,KAAF,EAASC,IAAT,EAAR;;AAEAzB,eAAM0B,kBAAQC,iBAAR,CAA0BH,KAA1B,EAAiC;AACpCI,yBAAa,gBADuB;AAEpCC,mBAAO,GAF6B;AAGpCC,oBAAQ,GAH4B;AAIpCC,uBAAW,KAJyB;AAKpCC,yBAAa,KALuB;AAMpCC,yBAAa,KANuB;AAOpCC,yBAAa,KAPuB;AAQpCC,sBAAU,KAR0B;AASpCC,2BAAe,KATqB;AAUpCC,mBAAO,IAV6B;AAWpCC,8BAAiB,IAXmB;AAYpCC,qBAAS,mBAAM;AACZvC,qBAAM,IAAN;AACF;AAdmC,UAAjC,CAAN;AAgBAwB,eAAMgB,IAAN,CAAW,QAAX,EAAqBxB,EAArB,CAAwB,OAAxB,EAAiC,YAAM;AACpCyB,6BAAEC,KAAF,CAAQC,MAAR,CAAe,EAACC,SAAS,aAAa1B,WAAvB,EAAf;AACA,gBAAGI,QAAH,EAAY;AACTpB,6BAAc2C,MAAd,CAAqB,OAArB;AACA3C,6BAAc4C,GAAd,CAAkB,cAAlB,EAAkCxB,QAAlC;AACF,aAHD,MAIK,IAAGrB,cAAc,SAAjB,EAA4B;AAC9BC,6BAAc2C,MAAd,CAAqB,OAArB;AACA3C,6BAAc2C,MAAd,CAAqB,cAArB;AACF,aAHI,MAGC;AACH3C,6BAAc4C,GAAd,CAAkB,OAAlB,EAA2B,EAACzC,MAAMJ,SAAP,EAA3B;AACF;AACD8C,qBAASC,MAAT;AACF,UAbD;AAcAxB,eAAMgB,IAAN,CAAW,SAAX,EAAsBxB,EAAtB,CAAyB,OAAzB,EAAkC,YAAM;AACrChB,gBAAIiD,MAAJ,CAAY,OAAZ;AACAjD,gBAAIiD,MAAJ,CAAY,SAAZ;AACF,UAHD;AAIAjD,aAAIiD,MAAJ,CAAW,MAAX;AACF,OAtCD;AAuCF,IA5CM;;qBA8CS,EAAE5B,sCAAF,E","file":"themes.js","sourcesContent":["/**\n * Created by arnab on 4/24/16.\n */\nimport $ from 'jquery';\nimport windows from '../windows/windows';\nimport '../common/util';\nimport 'highstock-release/highstock';\nimport 'jquery-growl';\n\nlet win = null;\n\n/*Set theme from local storage*/\nlet themeName = local_storage.get(\"theme\");\nconst custom_theme = local_storage.get(\"custom_theme\");\nthemeName = themeName && themeName.name;\nif (themeName) {\n   require(['lib/highstock-release/themes/' + themeName]);\n}\nelse if(custom_theme) {\n   Highcharts.setOptions(custom_theme);\n}\nelse { // Setting candle-stick color incase there's no theme set.\n   Highcharts.setOptions({\n      plotOptions: {\n         candlestick: {\n            lineColor: 'rgba(0,0,0,1)',\n            color: 'rgba(215,24,24,1)',\n            upColor: 'rgba(2,146,14,1)',\n            upLineColor: 'rgba(0,0,0,1)'\n         }\n      }\n   });\n}\n\n$('a.theme_dark_blue, a.theme_dark_green, a.theme_dark_unica, a.theme_gray, a.theme_grid, ' +\n   'a.theme_grid_light, a.theme_sand_signika, a.theme_skies, a.theme_default')\n   .off('click')\n   .on('click', function () {\n      const $ele = $(this);\n      const elementText = $ele.text();\n      const themeName = $ele.attr('theme-name');\n      confirmationDialog(null, themeName, elementText);\n   });\n\nexport const confirmationDialog = (themeObj, themeName, elementText) => {\n   if(win) {\n      win.moveToTop();\n      return;\n   }\n   require(['text!themes/themes.html'], ($html) => {\n      $html = $($html).i18n();\n\n      win = windows.createBlankWindow($html, {\n         dialogClass: 'dialog-confirm',\n         width: 360,\n         height: 175,\n         resizable: false,\n         collapsable: false,\n         minimizable: false,\n         maximizable: false,\n         closable: false,\n         closeOnEscape: false,\n         modal: true,\n         ignoreTileAction:true,\n         destroy: () => {\n            win = null;\n         },\n      });\n      $html.find(\"#apply\").on(\"click\", () => {\n         $.growl.notice({message: 'Loading ' + elementText});\n         if(themeObj){\n            local_storage.remove(\"theme\");\n            local_storage.set(\"custom_theme\", themeObj);\n         }\n         else if(themeName === 'default') {\n            local_storage.remove(\"theme\");\n            local_storage.remove(\"custom_theme\");\n         } else{\n            local_storage.set(\"theme\", {name: themeName}); \n         }\n         location.reload();\n      });\n      $html.find(\"#cancel\").on(\"click\", () => {\n         win.dialog( 'close' );\n         win.dialog( \"destroy\" );\n      });\n      win.dialog('open');\n   });\n}\n\nexport default  { confirmationDialog };\n\n"]}